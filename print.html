<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>stint</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-e6f50251.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-5d15349a.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">stint</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/status-im/nim-stint/" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="quickstart"><a class="header" href="#quickstart">Quickstart</a></h1>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<pre><code class="language-shell">$ nimble install -y stint
</code></pre>
<p>Add Stint to your .nimble file:</p>
<pre><code class="language-nim">requires "stint"
</code></pre>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<p>stint allows you to construct multi-precision integers from native interegs, strings, and raw bytes and work with them the same way you would with Nim’s stock integers, i.e. use all the familiar arithmetic and bit operations (+, -, shl, shr, etc.).</p>
<p>Integers in stint are represented with <code>StInt[bits]</code> and <code>StUint[bits]</code> types for <code>bits</code>-sized signed and unsigned integers respectively.</p>
<p>There are many ways you can define an integer in stint. In this quickstart guide, we’ll list only the most common ones. You’ll find and exhaustive list in the <a href="#defining-integers">Examples</a> section.</p>
<h3 id="128--and-256-bit-integers"><a class="header" href="#128--and-256-bit-integers">128- and 256-bit Integers</a></h3>
<p>Since 128 and 256-bit integers are the most commonly used bigints, stint provides convenience types and procs to define them.</p>
<p><code>i128</code>, <code>u128</code>, <code>i256</code>, and <code>u256</code> postfixes provide the most straightforward way of defining 128 and 256-bit integers:</p>
<pre><code class="language-nim">import stint

# define signed and unsigned 128-bit integers:
let
  i0 = 123'i128
  u0 = 456'u128
  i1 = 321'i256
  u1 = 654'u256

echo i0, ": ", typeof(i0)
echo u0, ": ", typeof(u0)
echo i1, ": ", typeof(i1)
echo u1, ": ", typeof(u1)

# Output:
# 123: Int128
# 456: UInt128
# 321: Int256
# 654: UInt256
</code></pre>
<p>Note: <code>Int128</code> and <code>UInt128</code> are convenience types equivalent to <code>StInt[128]</code> and <code>StUint[128]</code> respectively. Similarly, <code>Int256</code> and <code>UInt256</code> are just <code>StInt[256]</code> and <code>StUint[256]</code>.</p>
<p>To convert a native integer to <code>Int128</code> or <code>UInt128</code>, use <code>i128</code>, <code>u128</code>, <code>i256</code>, and <code>u256</code> as procs:</p>
<pre><code class="language-nim">let
You   x = 123
  xi128 = i128(x)
  xu128 = u128(x)
  xi256 = i256(x)
  xu256 = u256(x)

echo xi128, ": ", typeof(xi128)
echo xu128, ": ", typeof(xu128)
echo xi256, ": ", typeof(xi256)
echo xu256, ": ", typeof(xu256)

# Output:
# 123: Int128
# 123: UInt128
# 123: Int256
# 123: UInt256
</code></pre>
<h3 id="arbitrary-sized-integers"><a class="header" href="#arbitrary-sized-integers">Arbitrary-sized Integers</a></h3>
<p>stint lets you define integers of any size. The only requirement is that the size is known at compile time.</p>
<p>Use <code>stint</code> and <code>stuint</code> procs to convert a native integer to <code>StInt[bits]</code> and <code>StUint[bits]</code> respectively:</p>
<pre><code class="language-nim">import stint

# define 231-bit integers:
let
  i2 = 1111.stint(231)
  u2 = 2222.stuint(231)

echo i2, ": ", typeof(i2)
echo u2, ": ", typeof(u2)

# Output:
# 1111: StInt[231]
# 2222: StUint[231]
</code></pre>
<h3 id="arithmetic-operations"><a class="header" href="#arithmetic-operations">Arithmetic Operations</a></h3>
<p>If you have two integers of the same type, you can do pretty much everything with them that you can with Nim’s standard integers.</p>
<p>Here are some examples of the arithmetic operators provided by stint:</p>
<pre><code class="language-nim">import stint

let
  si0 = 123'i128 + 456'i128
  su0 = 456'u128 + 789'u128
  di0 = 17541'i128 div 13'i128
  du0 = 17541'u128 div 13'u128

echo si0, ": ", typeof(si0)
echo su0, ": ", typeof(su0)
echo di0, ": ", typeof(di0)
echo du0, ": ", typeof(du0)

# Output:
# 579: Int128
# 1245: UInt128
# 1349: Int128
# 1349: StUint[128]
```

Note that you can't run operations on stint integers of different size:
```nim
# This won't compile:
let se = 123'i128 + 456'i256
</code></pre>
<p>However, you can combine stint integers with native ones in some operations:</p>
<pre><code class="language-nim">let
  si1 = 123'i128 + 100'u64
  su1 = 456'u128 + 100
  du1 = 17541'u128 div 13

echo si1, ": ", typeof(si1)
echo su1, ": ", typeof(su1)
echo 456'u128 + 100 == 456'u128 + 100'u64
echo du1, ": ", typeof(du1)

# Output:
# 223: Int128
# 223: StUint[128]
# true
# 1349: StUint[128]
</code></pre>
<p>You’ll find more usage examples in the <a href="#arithmetic-operations">Examples</a> section.</p>
<p>For a full list of available operations, refer to the <a href="/apidocs/theindex.html">API index</a>.</p>
<h3 id="bitwise-operations"><a class="header" href="#bitwise-operations">Bitwise Operations</a></h3>
<p>Here are some examples of the bitwise operators provided by stint:</p>
<pre><code class="language-nim">import stint

let bi0 = 123'i128

echo bi0 shl 1
echo bi0.getBit(3)
echo bi0 and 456'i128

# Output:
# 246
# true
# 72
</code></pre>
<p>You’ll find more usage examples in the <a href="#bitwise-operations-1">Examples</a> section.</p>
<p>For a full list of available operations, refer to the <a href="/apidocs/theindex.html">API index</a>.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/status-im/nim-stint//edit/main/book/src/quickstart.md">Edit this page on GitHub.</a></footer><div style="break-before: page; page-break-before: always;"></div>
<h1 id="examples"><a class="header" href="#examples">Examples</a></h1>
<h2 id="defining-integers"><a class="header" href="#defining-integers">Defining Integers</a></h2>
<h3 id="i128-u128-i256-u256"><a class="header" href="#i128-u128-i256-u256"><code>i128</code>, <code>u128</code>, <code>i256</code>, <code>u256</code></a></h3>
<p><code>i128</code>, <code>u128</code>, <code>i256</code>, and <code>u256</code> procs convert a native integer or a string into a stint integer:</p>
<pre><code class="language-nim">import stint

let
  i = 123
  s = "456"
  x = i128(i)
  y = i128(s)

echo x
echo y

# Output:
# 123
# 456
</code></pre>
<p>Use these functions in postfix notation to define stint integers from integer literals:</p>
<pre><code class="language-nim">echo 123'i128
echo typeof(123'i128)

# Output:
# 123
# Int128
</code></pre>
<p><a href="/apidocs/stint.html">API reference</a></p>
<h3 id="stint-and-stuint"><a class="header" href="#stint-and-stuint"><code>stint</code> and <code>stuint</code></a></h3>
<p><code>stint</code> and <code>stuint</code> procs are used to convert native integers to multi-precision integers of arbitrary size:</p>
<pre><code class="language-nim">import stint

echo 123.stuint(256)
echo typeof(123.stuint(256))
echo 456.stint(300)
echo typeof(123.stint(300))

# Output:
# 123
# StUint[256]echo 123.stuint(256)
echo typeof(123.stuint(256))
echo 456.stint(300)
echo typeof(123.stint(300))
# 456
# StInt[300]
</code></pre>
<p>API reference:</p>
<ul>
<li><a href="/apidocs/stint/io.html#stint,StInt,static[int]">stint</a></li>
<li><a href="/apidocs/stint/io.html#stuint,StInt,static[int]">stuint</a></li>
</ul>
<h3 id="parse"><a class="header" href="#parse"><code>parse</code></a></h3>
<p><code>parse</code> proc is used to convert a string to multi-precision integer:</p>
<pre><code class="language-nim">import stint

echo "123".parse(Int128)
echo typeof("123".parse(Int128))
echo "456".parse(StUint[256])
echo typeof("123".parse(StUint[256]))

# Output:
# 123
# Int128
# 456
# UInt256
</code></pre>
<p><a href="/apidocs/stint/io.html#parse,string,typedesc[StInt[bits]],static[uint8]">API reference</a></p>
<h3 id="fromhex-fromdecimal-hextouint"><a class="header" href="#fromhex-fromdecimal-hextouint"><code>fromHex</code>, <code>fromDecimal</code>, <code>hexToUint</code></a></h3>
<p><code>fromHex</code> and <code>fromDecimal</code> procs are syntactic sugar for the <a href="#parse"><code>parse</code></a> proc for specific cases when you’re parsing a string representing an integer in hexadecimal or decimal format.</p>
<p><code>hexToUint</code> is an even more specific sugar for parsing a hex-string to a StUint:</p>
<pre><code class="language-nim">import stint

echo UInt128.fromHex("0x123123")
echo Int128.fromDecimal("123123")
echo hexToUint[128]("0x123123")

# Output:
# 1192227
# 123123
# 1192227
</code></pre>
<p>API reference:</p>
<ul>
<li><a href="/apidocs/stint/io.html#parse,string,typedesc[StInt[bits]],static[uint8]">parse</a></li>
<li><a href="/apidocs/stint/io.html#parse,string,typedesc[StInt[bits]],static[uint8]">fromHex</a></li>
<li><a href="/apidocs/stint/io.html#parse,string,typedesc[StInt[bits]],static[uint8]">hexToUint</a></li>
<li><a href="/apidocs/stint/io.html#parse,string,typedesc[StInt[bits]],static[uint8]">fromDecimal</a></li>
</ul>
<h3 id="to"><a class="header" href="#to"><code>to</code></a></h3>
<p><code>to</code> is syntactic sugar for <a href="#stint-and-stuint"><code>stint</code> and <code>stuint</code></a> procs:</p>
<pre><code class="language-nim">import stint

echo 123.to(UInt256)
echo typeof(123.to(UInt256))
echo 456.to(StInt[300])
echo typeof(456.to(StInt[300]))

# Output:
# 123
# UInt256
# 456
# StInt[300]
</code></pre>
<p><a href="/apidocs/stint/io.html#to,SomeInteger,typedesc[StInt]">API reference</a></p>
<h3 id="readintbe-readintle-readuintbe-readuintle"><a class="header" href="#readintbe-readintle-readuintbe-readuintle"><code>readIntBE</code>, <code>readIntLE</code>, <code>readUintBE</code>, <code>readUintLE</code></a></h3>
<p>These functions allow you create multi-precition integers from arrays of bytes. BE and LE stand for “big-endian” and “little-endian”, i.e. determine the direction of the byte array parsing (left to right or right to left):</p>
<pre><code class="language-nim">import stint

echo readIntBE[128]([byte 1, 2, 3])
echo readIntLE[128]([byte 1, 2, 3])

echo readUintBE[128]([byte 1, 2, 3])
echo readUintLE[128]([byte 1, 2, 3])

# Output:
66051
197121
66051
197121
</code></pre>
<p><a href="/apidocs/stint/io.html#readIntBE,openArray[byte]">API reference</a></p>
<h2 id="serializing-integers"><a class="header" href="#serializing-integers">Serializing Integers</a></h2>
<h3 id="tostring--tohex"><a class="header" href="#tostring--tohex"><code>toString</code>, <code>$</code>, <code>toHex</code></a></h3>
<p><code>toString</code> returns a string representation of a given integer in the given radix. <code>$</code> and <code>toHex</code> are just <code>toString</code> with radix 10 and 16 respectively:</p>
<pre><code class="language-nim">import stint

echo 123'u128.toString(10)
echo 123'u128.toString(16)
echo $123'u128
echo 123'u128.toHex()

# Output:
# 123
# 7b
# 123
# 7b
</code></pre>
<p>API reference:</p>
<ul>
<li><a href="/apidocs/stint/io.html#toString,StInt[bits],static[uint8]">toString</a></li>
<li><a href="/apidocs/stint/io.html#$">$</a></li>
<li><a href="/apidocs/stint/io.html#toHex">toHex</a></li>
</ul>
<h2 id="operations"><a class="header" href="#operations">Operations</a></h2>
<h3 id="arithmeric-operations-on-the-same-type"><a class="header" href="#arithmeric-operations-on-the-same-type">Arithmeric Operations on the Same Type</a></h3>
<pre><code class="language-nim">import stint

echo 456'u128 + 123'u128
echo 456'u128 - 123'u128
echo 456'u128 * 123'u128
echo 456'u128 div 123'u128
echo 456'u128 mod 123'u128
echo divmod(456'u128, 123'u128 )

# Output:
# 579
# 333
# 56088
# 3
# 87
# (quot: 3, rem: 87)
</code></pre>
<h3 id="in-place-updates"><a class="header" href="#in-place-updates">In-place Updates</a></h3>
<pre><code class="language-nim">var x = 123'i128

x += 100'i128
echo x
x -= 50'i128
echo x

# Output:
# 223
# 173
</code></pre>
<h3 id="arithmetic-operations-with-mixed-types"><a class="header" href="#arithmetic-operations-with-mixed-types">Arithmetic Operations with Mixed Types</a></h3>
<pre><code class="language-nim">echo 100'u128.pow(3)
echo 456'u128 + 100
echo 456'i128 + 100'u64

# Output:
# 1000000
# 556
# 556
</code></pre>
<h3 id="bitwise-operations-1"><a class="header" href="#bitwise-operations-1">Bitwise Operations</a></h3>
<pre><code class="language-nim">echo 123'u128 shl 1
echo 123'u128 shr 1
echo 123'u128 or 456'u128
echo 123'u128 and 456'u128
echo 123'u128 xor 456'u128

echo 123'i128 shl 1
echo 123'i128 shr 1
echo 123'i128 or 456'i128
echo 123'i128 and 456'i128
echo 123'i128 xor 456'i128

# Output:
# 246
# 61
# 507
# 72
# 435
# 246
# 61
# 507
# 72
# 435
</code></pre>
<p>API reference:</p>
<ul>
<li><a href="/apidocs/stint/intops.html">intops</a></li>
<li><a href="/apidocs/stint/uintops.html">uintops</a></li>
</ul>
<h3 id="modular-arithmetic"><a class="header" href="#modular-arithmetic">Modular Arithmetic</a></h3>
<pre><code class="language-nim">import stint

echo addmod(456'u128, 123'u128, 7'u128)
echo submod(456'u128, 123'u128, 7'u128)
echo mulmod(456'u128, 123'u128, 7'u128)
echo powmod(456'u128, 123'u128, 7'u128)

echo addmod(456'i128, 123'i128, 7'i128)
echo submod(456'i128, 123'i128, 7'i128)
echo mulmod(456'i128, 123'i128, 7'i128)
echo powmod(456'i128, 123'i128, 7'i128)

# Output:
# 5
# 4
# 4
# 1
# 5
# 4
# 4
# 1
</code></pre>
<p>API reference:</p>
<ul>
<li><a href="/apidocs/stint/int_modarith.html">int_modarith</a></li>
<li><a href="/apidocs/stint/modular_arithmetic.html">modular_arithmetic</a></li>
</ul>
<h2 id="usage-examples"><a class="header" href="#usage-examples">Usage Examples</a></h2>
<h3 id="addmul"><a class="header" href="#addmul">addmul</a></h3>
<pre><code class="language-nim">import stint

func addmul(a, b, c: UInt256): UInt256 =
  a * b + c

echo addmul(u256"100000000000000000000000000000", u256"1", u256"2")

# Output:
# 100000000000000000000000000002
</code></pre>
<h3 id="crypto-check-user-balance"><a class="header" href="#crypto-check-user-balance">Crypto: Check User Balance</a></h3>
<p>Checking if a user has enough balance for a transaction including gas fees:</p>
<pre><code class="language-nim">import stint

let
  senderBalance = u256"100000000000000000000"
  transferAmount = u256"5000000000000000000"
  gasPrice = u256"20000000000"
  gasLimit = u256"21000"

let totalCost = transferAmount + (gasPrice * gasLimit)

if senderBalance &gt;= totalCost:
  let newBalance = senderBalance - totalCost
  echo "Transfer successful. Remaining balance: ", newBalance
else:
  echo "Insufficient funds."

# Output:
# Transfer successful. Remaining balance: 94999580000000000000
</code></pre>
<h3 id="modular-arithmetic-diffie-hellman-key-exchange"><a class="header" href="#modular-arithmetic-diffie-hellman-key-exchange">Modular Arithmetic (Diffie-Hellman Key Exchange)</a></h3>
<pre><code class="language-nim">import stint

let p = UInt256.fromHex("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F")
let g = u256"2"
let privateKey = UInt256.fromHex("0x4a1b0c8e1d2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2b3c4d5e6f")

let publicKey = powmod(g, privateKey, p)

echo "Public Key to share: ", publicKey.toHex()

# Output:
# Public Key to share: 49a096670adb4db966020006267c7db8179ef7d776cb739fe3640366343ace73
</code></pre>
<h3 id="zero-memory-overhead-raw-byte-parsing"><a class="header" href="#zero-memory-overhead-raw-byte-parsing">Zero Memory Overhead Raw Byte Parsing</a></h3>
<p>Parsing a network packet header or binary file where a 128-bit ID is stored as big-endian bytes:</p>
<pre><code class="language-nim">import stint

let rawBytes = [
  0x00'u8, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D,
  0x0E, 0x0F,
]

let packetId = readUintBE[128](rawBytes)

let mask = UInt128.fromHex("0xFFFF0000000000000000000000000000")

if (packetId and mask) != 0.u128:
  echo "Header flag is set!"

echo "Packet ID: ", packetId

# Output:
# Header flag is set!
# Packet ID: 5233100606242806050955395731361295
</code></pre>
<h3 id="large-number-computation"><a class="header" href="#large-number-computation">Large Number Computation</a></h3>
<p>Use 512-bit integers to calculate 50! (regular Nim uint64 would have overflown):</p>
<pre><code class="language-nim">import stint

type UInt512 = Stint[512]

func factorial(n: int): UInt512 =
  result = 1.to(UInt512)
  for i in 1..n:
    result = result * i.to(UInt512)

let fact50 = factorial(50)

echo "50! = ", fact50

# Output:
# 50! = 30414093201713378043612608166064768844377641568960512000000000000
</code></pre>
<footer id="open-on-gh-1">Found a bug? <a href="https://github.com/status-im/nim-stint//edit/main/book/src/examples.md">Edit this page on GitHub.</a></footer><div style="break-before: page; page-break-before: always;"></div>
<h1 id="contributors-guide"><a class="header" href="#contributors-guide">Contributor’s Guide</a></h1>
<h2 id="multi-precision-integers-101"><a class="header" href="#multi-precision-integers-101">Multi-Precision Integers 101</a></h2>
<p>Native Nim integers have a fixed maximal size: 32 bits for int32 and uint32, 64 bits for int64 and uint64. This means that you can’t store a value that won’t fit this size.</p>
<p>However, many real-life tasks require the ability to work with integers of arbitrary size regardless of the technical limitations. Integers that aren’t bound to a particluar precision level are called <em>multi-precision</em>.</p>
<p>Multi-precision integers are represented in computer programs as sequences of <em>limbs</em>, each one representing a singe <em>word</em> of fixed size. Depending on the CPU architecture, a word can be 32 or 64 bits of size.</p>
<p>Limbs are like digits in ordinary base-10 numbers but each “digit” can have not 10 possible values but 2^32 or 2^64 possible values.</p>
<p>Doing arithmetic with multi-precision integers means doing arithmetic with each limb separately and carrying the result from limb to limb, similarly how you did addition at school.</p>
<p>stint uses arithmetic operations on individual words from <a href="https://github.com/vacp2p/nim-intops">intops</a> and implements the operations on the whole multi-precision integers.</p>
<h2 id="library-structure"><a class="header" href="#library-structure">Library Structure</a></h2>
<pre><code class="language-shell">[Repository Root]
│   stint.nim                       &lt;- API entrypoint;
│                                      users normally import just that
│
├───benchmarks
│       bench.nim                   &lt;- Benchmark runner
│
├───helpers
│       prng_unsafe.nim             &lt;- Pseudo-random number generator,
│                                      used in tests and benchmarks
├───stint
│   │   endians2.nim                &lt;- Endianness utilities: byte swapping,
│   │                                  byte array &lt;-&gt; integer conversions 
│   │ 
│   │   intops.nim                  &lt;- Arithmetic operations for signed integers
│   │ 
│   │   int_modarith.nim            &lt;- Modular arithmetic for signed integers
│   │ 
│   │   io.nim                      &lt;- String, byte, and native int parsing,
│   │                                  hex conversion, and string formatting
│   │ 
│   │   lenient_stint.nim           &lt;- [Marked for deprecataion]
│   │                                  Sugar for mixed-precision integer operations
│   │ 
│   │   literals_stint.nim          &lt;- Defines literal macros (u256, u128, etc.)
│   │                                  for easy constant creation
│   │ 
│   │   modular_arithmetic.nim      &lt;- Modular arithmetic for unsigned integers
│   │ 
│   │   uintops.nim                 &lt;- Arithmetic operations for unsigned integers
│   │
│   └───private
│           custom_literal.nim      &lt;- Helper procs for string parsing used in io.nim
│           datatypes.nim           &lt;- stint's types: StInt, Int128, Word, etc.
│           uint_addsub.nim         &lt;- Unsigned integer operation implementations.
│           ...
│
└───tests
    │   all_tests.nim               &lt;- Tests for the publically exposed procs
    │   internal.nim                &lt;- Tests for the private procs
    │   internal_uint_div.nim       &lt;- Dedicated tests for the uint_div procs
    │   test_bugfix.nim             &lt;- Test suites executed with all_tests.nim 
    │   ...
</code></pre>
<h2 id="tests"><a class="header" href="#tests">Tests</a></h2>
<p>Run tests of the private procs:</p>
<pre><code class="language-shell">$ nimble test_internal
</code></pre>
<p>Test the publically facing procs:</p>
<pre><code class="language-shell">$ nimble test_public_api
</code></pre>
<p>Run all tests:</p>
<pre><code class="language-shell">$ nimble test
</code></pre>
<h2 id="benchmarks"><a class="header" href="#benchmarks">Benchmarks</a></h2>
<p>To run the benchmarks, compile and run <code>benchmarks/bench.nim</code> with maximum optimizations:</p>
<pre><code class="language-shell">$ nim r -d:danger --passC:"-march=native -O3" benchmarks/bench.nim
</code></pre>
<h2 id="docs"><a class="header" href="#docs">Docs</a></h2>
<p>The docs consist of two parts:</p>
<ul>
<li>the book (this is what you’re reading right now)</li>
<li>the API docs</li>
</ul>
<p>The book is created using <a href="https://rust-lang.github.io/mdBook/">mdBook</a>.</p>
<p>The API docs are generated from the source code docstrings.</p>
<p>To build the docs locally, run:</p>
<ul>
<li><code>nimble book</code> to build the book</li>
<li><code>nimble apidocs</code> to build the API docs</li>
<li><code>nimble docs</code> to build both</li>
</ul>
<footer id="open-on-gh-2">Found a bug? <a href="https://github.com/status-im/nim-stint//edit/main/book/src/contrib.md">Edit this page on GitHub.</a></footer>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>


    </div>
    </body>
</html>
